Perfect â€” letâ€™s get Tomcat **up and running** properly so Jenkins can deploy your WAR to it.

Youâ€™re basically setting up Tomcat as a remote container that Jenkins can talk to over HTTP â€” and that means it must:

1. Be running.
2. Have the **Manager app** installed.
3. Have a user with the **manager-script** role enabled.
4. Be accessible to Jenkins (either on the same system or over the network).

Letâ€™s go step by step â€” simple, clean, and Windows-friendly since your Jenkins path shows `C:\ProgramData\Jenkins`.

---

## ğŸ§± Step 1 â€” Find your Tomcat installation

Tomcat is usually installed in one of these places:

```
C:\Program Files\Apache Software Foundation\Tomcat 9.0
C:\apache-tomcat-9.0.x
```

Inside it, you should see folders like:

```
bin/
conf/
webapps/
logs/
lib/
```

If you donâ€™t have it yet, download Tomcat 9 (recommended, not 7 â€” the plugin still works fine):
ğŸ‘‰ [https://tomcat.apache.org/download-90.cgi](https://tomcat.apache.org/download-90.cgi)

Extract it somewhere simple, e.g.:

```
C:\apache-tomcat-9.0.93
```

---

## ğŸ§© Step 2 â€” Start Tomcat

Open **Command Prompt** and navigate to Tomcatâ€™s `bin` directory:

```bash
cd C:\apache-tomcat-9.0.93\bin
startup.bat
```

You should see something like:

```
Using CATALINA_BASE:   "C:\apache-tomcat-9.0.93"
Using CATALINA_HOME:   "C:\apache-tomcat-9.0.93"
Tomcat started.
```

Now, open your browser:

```
http://localhost:8080
```

If it works, youâ€™ll see the **Tomcat homepage**.

If it doesnâ€™t, check that port 8080 isnâ€™t in use:

```bash
netstat -ano | find "8080"
```

If it shows another program using 8080, change Tomcatâ€™s port in:

```
conf/server.xml
```

Find:

```xml
<Connector port="8080" protocol="HTTP/1.1"
           connectionTimeout="20000"
           redirectPort="8443" />
```

Change `8080` to something like `8081`, save, and restart Tomcat.

---

## ğŸ” Step 3 â€” Enable the Tomcat Manager App

Tomcat comes with a â€œmanagerâ€ web application located in:

```
C:\apache-tomcat-9.0.93\webapps\manager
```

If that folder is missing, reinstall Tomcat â€” you need it for Jenkins deployment.

---

## ğŸ‘¤ Step 4 â€” Create a Tomcat user for Jenkins

Open this file:

```
C:\apache-tomcat-9.0.93\conf\tomcat-users.xml
```

Add the following lines **before the closing `</tomcat-users>` tag**:

```xml
<role rolename="manager-gui"/>
<role rolename="manager-script"/>
<role rolename="manager-jmx"/>
<role rolename="manager-status"/>
<user username="jenkins" password="admin123" roles="manager-gui,manager-script,manager-jmx,manager-status"/>
```

Save the file.

Restart Tomcat:

```bash
shutdown.bat
startup.bat
```

Now test it in your browser:

```
http://localhost:8080/manager/html
```

Login with:

* Username: `jenkins`
* Password: `admin123`

If you see the Tomcat Manager interface â€” perfect.

---

## ğŸ”— Step 5 â€” Test remote access

Run this in a Command Prompt on the Jenkins server:

```bash
curl http://localhost:8080/manager/text/list --user jenkins:admin123
```

If it returns a list of webapps (like `/manager`, `/host-manager`, `/docs`, etc.), it means Tomcat is listening and the credentials work.

---

## ğŸ§° Step 6 â€” Configure Jenkins â€œDeploy WAR/EARâ€ step

In Jenkins:

1. Go to your **MavenWeb_Deploy** job â†’ *Configure*.
2. Scroll to **Post-build Actions â†’ Deploy war/ear to a container**.
3. Set:

   * WAR/EAR files:
     `**/target/my-web-app.war`
   * Context path:
     `/my-web-app`
   * Container:
     `Tomcat 9.x Remote`
   * Credentials:
     Username `jenkins`, Password `admin123`
   * Tomcat URL:
     `http://localhost:8080`

Save and build again.

---

## ğŸ§ª Step 7 â€” Confirm Deployment

If everything is correct, youâ€™ll see:

```
[DeployPublisher][INFO] Deploying ... to container Tomcat 9.x Remote
[DeployPublisher][INFO] Deployment successful
```

And in your browser:

```
http://localhost:8080/my-web-app
```

Your app should load.

---

## ğŸ§  If Youâ€™re Still Getting â€œConnection Refusedâ€

Run through this checklist quickly:

* Tomcat is started (`startup.bat` shows no error).
* You can open `http://localhost:8080` in your browser.
* The Tomcat Manager URL (`/manager/html`) opens and lets you log in.
* Jenkins job uses the **same host and port**.
* Jenkins user and Tomcat user credentials match.
* No firewall or antivirus is blocking local network access (try disabling temporarily to test).

---

Once Tomcat is running stably, Jenkins â†’ Tomcat deployment will become automatic.

Would you like me to show you how to make Tomcat **auto-start on system boot** (so Jenkins can deploy anytime without you manually running startup.bat)?
